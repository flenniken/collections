"use strict";var __awaiter=this&&this.__awaiter||function(o,l,s,a){return new(s=s||Promise)(function(e,n){function c(o){try{i(a.next(o))}catch(o){n(o)}}function t(o){try{i(a.throw(o))}catch(o){n(o)}}function i(o){var n;o.done?e(o.value):((n=o.value)instanceof s?n:new s(function(o){o(n)})).then(c,t)}i((a=a.apply(o,l||[])).next())})};const cacheName="collections-v1",cacheContent=["/","/collections/favicon.ico","/collections/icons/icon-32.png","/collections/icons/icon-64.png","/collections/icons/icon-96.png","/collections/icons/icon-128.png","/collections/icons/icon-168.png","/collections/icons/icon-192.png","/collections/icons/icon-256.png","/collections/icons/icon-512.png"];self.addEventListener("install",o=>{console.log("service worker install event"),o.waitUntil(__awaiter(void 0,void 0,void 0,function*(){var o=yield caches.open(cacheName);console.log("cache all files"),yield o.addAll(cacheContent)}))}),self.addEventListener("fetch",n=>{const e=n.request.url;console.log("service worker fetch event for "+e),e.startsWith("http:")||e.startsWith("https:")?n.respondWith(__awaiter(void 0,void 0,void 0,function*(){var o=yield fetch(n.request);if(o)return console.log("found on net: "+e),console.log("add to cache: "+e),(yield caches.open(cacheName)).put(n.request,o.clone()),o;console.log("not on net: "+e);o=yield caches.match(n.request);return o?(console.log("found in cache: "+e),o):(console.log("not found: "+e),yield fetch(n.request))})):console.log("ignore: "+e)});